{
  "$schema": "http://apicast.io/policy-v1.1/schema#manifest#",
  "name": "HTTP Code Overwrite",
  "summary": "Modify the HTTP status code returned by the upstream",
  "description":
    ["Configures a 1-1 mapping for upstream's http codes  "],
  "version": "builtin",
  "configuration": {
    "type": "object",
    "definitions": {
      "codes": {
        "description": "List of codes to overwrite",
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "upstream": {
              "description": "Upstream HTTP code to replace",
              "type": "integer"
            },
            "apicast": {
              "description": "HTTP code to return",
              "type": "integer"
            }
          }
        }

      }
    },
    "properties": {
      "http_codes": { "$ref": "#/definitions/codes" }
    }
  }
}
